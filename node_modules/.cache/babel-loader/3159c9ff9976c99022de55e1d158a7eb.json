{"ast":null,"code":"// returns the dispatched action\nconst url = \"http://localhost:3001/klasses\"; // on Load of this page, dispatch an action that is FETCHED_KLASSES\n\nfunction fetchedKlasses(klasses) {\n  return {\n    type: \"FETCHED_KLASSES\",\n    payload: klasses\n  };\n} // After fetching dispach the fetched klasses\n// incooperate thunk by returning a dispatch function\n\n\nfunction fetchingKlasses(currentUser) {\n  return dispatch => {\n    // fetch(url)\n    fetch(`\"http://localhost:3001/${currentUse.user}s/${cure}`).then(resp => resp.json()).then(klasses => {\n      // console.log(klasses)\n      dispatch(fetchedKlasses(klasses));\n    });\n  };\n} // function handleUsername(e){\n//     return {type: \"USERNAME\", payload: e.target.value }\n// }\n\n\nexport { fetchingKlasses }; // Problem: the return of fetchingKlasses get dispached before the fetch because it is Asynchronous\n// Solution: Make it synchronos by using redux thunk\n//           install the thunk and import it inside the store\n//           because thunk works similarly as our redux tool, need to change window... to thunk","map":{"version":3,"sources":["/Users/emusha/FlatIron/code/project_5/Robust_Client/src/Redux/actions.js"],"names":["url","fetchedKlasses","klasses","type","payload","fetchingKlasses","currentUser","dispatch","fetch","currentUse","user","cure","then","resp","json"],"mappings":"AACA;AAGA,MAAMA,GAAG,GAAG,+BAAZ,C,CAEA;;AACA,SAASC,cAAT,CAAwBC,OAAxB,EAAgC;AAC5B,SAAO;AAACC,IAAAA,IAAI,EAAE,iBAAP;AAA0BC,IAAAA,OAAO,EAAEF;AAAnC,GAAP;AACH,C,CAKD;AACA;;;AACA,SAASG,eAAT,CAAyBC,WAAzB,EAAqC;AACjC,SAAQC,QAAD,IAAc;AACjB;AACAC,IAAAA,KAAK,CAAE,0BAAyBC,UAAU,CAACC,IAAK,KAAIC,IAAK,EAApD,CAAL,CACCC,IADD,CACMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EADd,EAECF,IAFD,CAEMV,OAAO,IAAI;AACb;AACAK,MAAAA,QAAQ,CAACN,cAAc,CAACC,OAAD,CAAf,CAAR;AACH,KALD;AAOH,GATD;AAWH,C,CAED;AACA;AACA;;;AAEA,SAAQG,eAAR,G,CAGA;AACA;AACA;AACA","sourcesContent":["\n// returns the dispatched action\n\n\nconst url = \"http://localhost:3001/klasses\"\n\n// on Load of this page, dispatch an action that is FETCHED_KLASSES\nfunction fetchedKlasses(klasses){\n    return {type: \"FETCHED_KLASSES\", payload: klasses}\n}\n\n\n\n\n// After fetching dispach the fetched klasses\n// incooperate thunk by returning a dispatch function\nfunction fetchingKlasses(currentUser){\n    return (dispatch) => {\n        // fetch(url)\n        fetch(`\"http://localhost:3001/${currentUse.user}s/${cure}`)\n        .then(resp => resp.json())\n        .then(klasses => {\n            // console.log(klasses)\n            dispatch(fetchedKlasses(klasses))\n        } )\n\n    }\n     \n}\n\n// function handleUsername(e){\n//     return {type: \"USERNAME\", payload: e.target.value }\n// }\n\nexport {fetchingKlasses}\n\n\n// Problem: the return of fetchingKlasses get dispached before the fetch because it is Asynchronous\n// Solution: Make it synchronos by using redux thunk\n//           install the thunk and import it inside the store\n//           because thunk works similarly as our redux tool, need to change window... to thunk\n\n\n"]},"metadata":{},"sourceType":"module"}